{"version":3,"file":"openloginSessionManager.esm.js","sources":["../src/openloginSessionManager.ts"],"sourcesContent":[null],"names":["DEFAULT_SESSION_TIMEOUT","OpenloginSessionManager","BaseSessionManager","constructor","sessionServerBaseUrl","sessionNamespace","sessionTime","sessionId","arguments","length","undefined","_defineProperty","sessionKey","_this$sessionId","padStart","value","Error","generateRandomSessionKey","generatePrivate","toString","createSession","data","privKey","Buffer","from","pubKey","getPublic","encData","encryptData","signature","sign","keccak256","body","key","namespace","timeout","request","method","url","authorizeSession","checkSessionParams","pubkey","URL","searchParams","append","result","message","response","decryptData","error","updateSession","invalidateSession"],"mappings":"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"}