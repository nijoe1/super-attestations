{"version":3,"file":"baseSessionManager.cjs.js","mappings":";;;;;;;;;;;;;;AAAA,MAAM,8BAA4B;;;ACAlC,MAAM,4BAA4B;;;ACA8B;AAIzD,MAAeI,kBAAkB,CAAwD;EAAAC,YAAA;IAAAC,wBAAA;EAAA;EAG9FC,kBAAkBA,CAACC,GAAW,EAAE;IAC9B,IAAI,CAACA,GAAG,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EACtD;;EAEA;AACF;AACA;AACA;AACA;EACYC,OAAOA,CAAAC,IAAA,EAAoF;IAAA,IAAhF;MAAEC,MAAM,GAAG,KAAK;MAAEC,GAAG;MAAEC,IAAI,GAAG,CAAC,CAAC;MAAEC,OAAO,GAAG,CAAC;IAAoB,CAAC,GAAAJ,IAAA;IACrF,MAAMK,OAAO,GAAG;MAAED;IAAQ,CAAC;IAE3B,QAAQH,MAAM;MACZ,KAAK,KAAK;QACR,OAAOZ,oCAAG,CAAIa,GAAG,EAAEG,OAAO,CAAC;MAC7B,KAAK,MAAM;QACT,OAAOd,qCAAI,CAAIW,GAAG,EAAEC,IAAI,EAAEE,OAAO,CAAC;MACpC,KAAK,KAAK;QACR,OAAOb,oCAAG,CAAIU,GAAG,EAAEC,IAAI,EAAEE,OAAO,CAAC;MACnC,KAAK,OAAO;QACV,OAAOf,sCAAK,CAAIY,GAAG,EAAEC,IAAI,EAAEE,OAAO,CAAC;IACvC;IAEA,MAAM,IAAIP,KAAK,CAAC,qBAAqB,CAAC;EACxC;AASF;;;;;;;;;;;;;UCxCA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;ACNqC","sources":["webpack://@toruslabs/base-session-manager/external commonjs2 \"@babel/runtime/helpers/defineProperty\"","webpack://@toruslabs/base-session-manager/external commonjs2 \"@toruslabs/http-helpers\"","webpack://@toruslabs/base-session-manager/./src/baseSessionManager.ts","webpack://@toruslabs/base-session-manager/webpack/bootstrap","webpack://@toruslabs/base-session-manager/webpack/runtime/compat get default export","webpack://@toruslabs/base-session-manager/webpack/runtime/define property getters","webpack://@toruslabs/base-session-manager/webpack/runtime/hasOwnProperty shorthand","webpack://@toruslabs/base-session-manager/webpack/runtime/make namespace object","webpack://@toruslabs/base-session-manager/./src/index.ts"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/defineProperty\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@toruslabs/http-helpers\");","import { get, patch, post, put } from \"@toruslabs/http-helpers\";\n\nimport { ApiRequestParams, ISessionManager } from \"./interfaces\";\n\nexport abstract class BaseSessionManager<TSessionData> implements ISessionManager<TSessionData> {\n  abstract sessionKey: string;\n\n  checkSessionParams(key: string) {\n    if (!key) throw new Error(\"Session key is required\");\n  }\n\n  /**\n   * Common handler method for making an http request.\n   *\n   * Note: Embed all the query parameters in the path itself.\n   */\n  protected request<T>({ method = \"GET\", url, data = {}, headers = {} }: ApiRequestParams): Promise<T> {\n    const options = { headers };\n\n    switch (method) {\n      case \"GET\":\n        return get<T>(url, options);\n      case \"POST\":\n        return post<T>(url, data, options);\n      case \"PUT\":\n        return put<T>(url, data, options);\n      case \"PATCH\":\n        return patch<T>(url, data, options);\n    }\n\n    throw new Error(\"Invalid method type\");\n  }\n\n  abstract createSession(data: TSessionData): Promise<string>;\n\n  abstract authorizeSession(): Promise<TSessionData>;\n\n  abstract updateSession(data: Partial<TSessionData>): Promise<void>;\n\n  abstract invalidateSession(): Promise<boolean>;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from \"./baseSessionManager\";\nexport * from \"./interfaces\";\n"],"names":["get","patch","post","put","BaseSessionManager","constructor","_defineProperty","checkSessionParams","key","Error","request","_ref","method","url","data","headers","options"],"sourceRoot":""}