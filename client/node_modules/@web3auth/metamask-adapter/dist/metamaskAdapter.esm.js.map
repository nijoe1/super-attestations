{"version":3,"file":"metamaskAdapter.esm.js","sources":["../src/metamaskAdapter.ts"],"sourcesContent":[null],"names":["MetamaskAdapter","BaseEvmAdapter","constructor","arguments","_defineProperty","ADAPTER_NAMESPACES","EIP155","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","WALLET_ADAPTERS","METAMASK","ADAPTER_STATUS","NOT_READY","provider","status","metamaskProvider","_","Error","init","options","length","undefined","checkInitializationRequirements","detectEthereumProvider","mustBeMetaMask","WalletInitializationError","notInstalled","READY","emit","ADAPTER_EVENTS","log","debug","autoConnect","rehydrated","connect","error","ERRORED","checkConnectionRequirements","WalletLoginError","notConnectedError","ethereum","window","isPhantom","Boolean","isMetaMask","providers","find","p","overrideIsMetaMask","setProvider","setSelectedProvider","CONNECTING","adapter","request","method","chainId","chainConfig","addChain","switchChain","CONNECTED","disconnectHandler","_this$provider","disconnect","removeListener","on","reconnected","Web3AuthError","connectionError","_this$provider2","cleanup","disconnectSession","removeAllListeners","getUserInfo","_this$metamaskProvide","checkAddChainRequirements","params","chainName","displayName","rpcUrls","rpcTarget","blockExplorerUrls","blockExplorer","nativeCurrency","name","tickerName","symbol","ticker","decimals","addChainConfig","_this$metamaskProvide2","checkSwitchChainRequirements","setAdapterSettings","getChainConfig"],"mappings":"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"}