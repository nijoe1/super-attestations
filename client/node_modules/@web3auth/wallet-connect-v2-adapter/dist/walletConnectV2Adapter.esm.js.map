{"version":3,"file":"walletConnectV2Adapter.esm.js","sources":["../src/config.ts","../src/utils.ts","../src/walletConnectV2adapter.ts"],"sourcesContent":[null,null,null],"names":["WALLET_CONNECT_EXTENSION_ADAPTERS","name","chains","CHAIN_NAMESPACES","EIP155","logo","mobile","native","universal","desktop","DEFAULT_EIP155_METHODS","DEFAULT_EIP_155_EVENTS","getSiteName","window","document","siteName","querySelector","content","metaTitle","title","length","location","hostname","imgExists","url","Promise","resolve","reject","img","createElement","onload","onerror","src","e","getSiteIcon","icon","href","Array","from","querySelectorAll","find","_icon","Boolean","getSiteMetadata","getNamespacesFromChains","supportedNamespaces","forEach","chainId","namespace","split","includes","push","getSupportedMethodsByNamespace","Object","values","Error","getSupportedEventsByNamespace","getRequiredNamespaces","selectedNamespaces","fromEntries","map","methods","filter","chain","startsWith","events","getWalletConnectV2Settings","chainIds","projectID","appMetadata","adapterSettings","walletConnectInitOptions","projectId","relayUrl","metadata","description","origin","icons","chainNamespaces","loginSettings","requiredNamespaces","isChainIdSupported","chainNamespace","chainID","_supportedNamespaces$","_supportedNamespaces$2","wcChainNamespace","isSupported","WalletConnectV2Adapter","BaseEvmAdapter","constructor","options","_defineProperty","WALLET_ADAPTERS","WALLET_CONNECT_V2","ADAPTER_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","uri","extensionAdapters","adapterOptions","_objectSpread","connected","activeSession","provider","status","wcProvider","_","init","_this$adapterOptions$","_this$chainConfig","_this$chainConfig2","checkInitializationRequirements","WalletInitializationError","invalidParams","wc2Settings","chainConfig","parseInt","merge","connector","SignClient","WalletConnectV2Provider","config","emit","ADAPTER_EVENTS","READY","log","debug","autoConnect","checkForPersistedSession","rehydrated","onConnectHandler","error","ERRORED","CACHE_CLEAR","connect","checkConnectionRequirements","notReady","CONNECTING","createNewSession","finalError","Web3AuthError","WalletLoginError","connectionError","message","addChain","_this$wcProvider","arguments","undefined","checkAddChainRequirements","currentChainNamespace","WalletOperationsError","chainIDNotAllowed","addChainConfig","switchChain","params","_this$wcProvider2","checkSwitchChainRequirements","setAdapterSettings","getChainConfig","getUserInfo","notConnectedError","disconnect","_this$activeSession","_this$activeSession2","cleanup","disconnectSession","topic","reason","getSdkError","cleanupPendingPairings","inactivePairings","pairing","getAll","active","isValidArray","delete","session","lastKeyIndex","keys","get","opts","forceNewSession","_this$activeSession3","_this$adapterOptions","adapter","_this$activeSession4","approval","qrcodeModal","open","updateAdapterData","once","args","info","close","_this$adapterOptions$2","skipLookupNetwork","setupProvider","subscribeEvents","CONNECTED","reconnected","on","_ref","namespaces","_session","updatedSession"],"mappings":";;;;;;;;AAKO,MAAMA,iCAAiC,GAAqC,CACjF;AACEC,EAAAA,IAAI,EAAE,SAAS;AACfC,EAAAA,MAAM,EAAE,CAACC,gBAAgB,CAACC,MAAM,CAAC;AACjCC,EAAAA,IAAI,EAAE,8CAA8C;AACpDC,EAAAA,MAAM,EAAE;AACNC,IAAAA,MAAM,EAAE,UAAU;AAClBC,IAAAA,SAAS,EAAE,qBAAA;GACZ;AACDC,EAAAA,OAAO,EAAE;AACPF,IAAAA,MAAM,EAAE,EAAE;AACVC,IAAAA,SAAS,EAAE,EAAA;AACZ,GAAA;AACF,CAAA,EACD;AACEP,EAAAA,IAAI,EAAE,UAAU;AAChBC,EAAAA,MAAM,EAAE,CAACC,gBAAgB,CAACC,MAAM,CAAC;AACjCC,EAAAA,IAAI,EAAE,+CAA+C;AACrDC,EAAAA,MAAM,EAAE;AACNC,IAAAA,MAAM,EAAE,WAAW;AACnBC,IAAAA,SAAS,EAAE,2BAAA;GACZ;AACDC,EAAAA,OAAO,EAAE;AACPF,IAAAA,MAAM,EAAE,EAAE;AACVC,IAAAA,SAAS,EAAE,EAAA;AACZ,GAAA;AACF,CAAA,EACD;AACEP,EAAAA,IAAI,EAAE,QAAQ;AACdC,EAAAA,MAAM,EAAE,CAACC,gBAAgB,CAACC,MAAM,CAAC;AACjCC,EAAAA,IAAI,EAAE,6CAA6C;AACnDC,EAAAA,MAAM,EAAE;AACNC,IAAAA,MAAM,EAAE,WAAW;AACnBC,IAAAA,SAAS,EAAE,4BAAA;GACZ;AACDC,EAAAA,OAAO,EAAE;AACPF,IAAAA,MAAM,EAAE,EAAE;AACVC,IAAAA,SAAS,EAAE,EAAA;AACZ,GAAA;AACF,CAAA,EACD;AACEP,EAAAA,IAAI,EAAE,cAAc;AACpBC,EAAAA,MAAM,EAAE,CAACC,gBAAgB,CAACC,MAAM,CAAC;AACjCC,EAAAA,IAAI,EAAE,4CAA4C;AAClDC,EAAAA,MAAM,EAAE;AACNC,IAAAA,MAAM,EAAE,QAAQ;AAChBC,IAAAA,SAAS,EAAE,8BAAA;GACZ;AACDC,EAAAA,OAAO,EAAE;AACPF,IAAAA,MAAM,EAAE,EAAE;AACVC,IAAAA,SAAS,EAAE,EAAA;AACZ,GAAA;AACF,CAAA,EACD;AACEP,EAAAA,IAAI,EAAE,QAAQ;AACdC,EAAAA,MAAM,EAAE,CAACC,gBAAgB,CAACC,MAAM,CAAC;AACjCC,EAAAA,IAAI,EAAE,6CAA6C;AACnDC,EAAAA,MAAM,EAAE;AACNC,IAAAA,MAAM,EAAE,WAAW;AACnBC,IAAAA,SAAS,EAAE,0BAAA;GACZ;AACDC,EAAAA,OAAO,EAAE;AACPF,IAAAA,MAAM,EAAE,EAAE;AACVC,IAAAA,SAAS,EAAE,EAAA;AACZ,GAAA;AACF,CAAA,EACF;IAEWE,uBAKX;AALD,CAAA,UAAYA,sBAAsB,EAAA;AAChCA,EAAAA,sBAAA,CAAA,sBAAA,CAAA,GAAA,qBAA4C,CAAA;AAC5CA,EAAAA,sBAAA,CAAA,UAAA,CAAA,GAAA,UAAqB,CAAA;AACrBA,EAAAA,sBAAA,CAAA,eAAA,CAAA,GAAA,eAA+B,CAAA;AAC/BA,EAAAA,sBAAA,CAAA,qBAAA,CAAA,GAAA,mBAAyC,CAAA;AAC3C,CAAC,EALWA,sBAAsB,KAAtBA,sBAAsB,GAKjC,EAAA,CAAA,CAAA,CAAA;IAEWC,uBAGX;AAHD,CAAA,UAAYA,sBAAsB,EAAA;AAChCA,EAAAA,sBAAA,CAAA,mBAAA,CAAA,GAAA,cAAkC,CAAA;AAClCA,EAAAA,sBAAA,CAAA,sBAAA,CAAA,GAAA,iBAAwC,CAAA;AAC1C,CAAC,EAHWA,sBAAsB,KAAtBA,sBAAsB,GAGjC,EAAA,CAAA,CAAA,CAAA;AAED;;AAEG;AACH,MAAMC,WAAW,GAAIC,MAAc,IAAI;EACrC,MAAM;AAAEC,IAAAA,QAAAA;AAAU,GAAA,GAAGD,MAAM,CAAA;AAE3B,EAAA,MAAME,QAAQ,GAAGD,QAAQ,CAACE,aAAa,CAAkB,sCAAsC,CAAC,CAAA;AAChG,EAAA,IAAID,QAAQ,EAAE;IACZ,OAAOA,QAAQ,CAACE,OAAO,CAAA;AACxB,GAAA;AAED,EAAA,MAAMC,SAAS,GAAGJ,QAAQ,CAACE,aAAa,CAAkB,2BAA2B,CAAC,CAAA;AACtF,EAAA,IAAIE,SAAS,EAAE;IACb,OAAOA,SAAS,CAACD,OAAO,CAAA;AACzB,GAAA;EAED,IAAIH,QAAQ,CAACK,KAAK,IAAIL,QAAQ,CAACK,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;IAC/C,OAAON,QAAQ,CAACK,KAAK,CAAA;AACtB,GAAA;AAED,EAAA,OAAON,MAAM,CAACQ,QAAQ,CAACC,QAAQ,CAAA;AACjC,CAAC,CAAA;AAED;;;;AAIG;AACH,SAASC,SAASA,CAACC,GAAW,EAAA;AAC5B,EAAA,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;IACrC,IAAI;AACF,MAAA,MAAMC,GAAG,GAAGd,QAAQ,CAACe,aAAa,CAAC,KAAK,CAAC,CAAA;AACzCD,MAAAA,GAAG,CAACE,MAAM,GAAG,MAAMJ,OAAO,CAAC,IAAI,CAAC,CAAA;AAChCE,MAAAA,GAAG,CAACG,OAAO,GAAG,MAAML,OAAO,CAAC,KAAK,CAAC,CAAA;MAClCE,GAAG,CAACI,GAAG,GAAGR,GAAG,CAAA;KACd,CAAC,OAAOS,CAAC,EAAE;MACVN,MAAM,CAACM,CAAC,CAAC,CAAA;AACV,KAAA;AACH,GAAC,CAAC,CAAA;AACJ,CAAA;AAEA;;AAEG;AACH,eAAeC,WAAWA,CAACrB,MAAc,EAAA;EACvC,MAAM;AAAEC,IAAAA,QAAAA;AAAU,GAAA,GAAGD,MAAM,CAAA;AAE3B;AACA,EAAA,IAAIsB,IAAI,GAAGrB,QAAQ,CAACE,aAAa,CAAkB,kCAAkC,CAAC,CAAA;EACtF,IAAImB,IAAI,KAAK,MAAMZ,SAAS,CAACY,IAAI,CAACC,IAAI,CAAC,CAAC,EAAE;IACxC,OAAOD,IAAI,CAACC,IAAI,CAAA;AACjB,GAAA;AAED;EACAD,IAAI,GAAGE,KAAK,CAACC,IAAI,CAACxB,QAAQ,CAACyB,gBAAgB,CAAkB,yBAAyB,CAAC,CAAC,CAACC,IAAI,CAAEC,KAAK,IAAKC,OAAO,CAACD,KAAK,CAACL,IAAI,CAAC,CAAC,IAAI,IAAI,CAAA;EACrI,IAAID,IAAI,KAAK,MAAMZ,SAAS,CAACY,IAAI,CAACC,IAAI,CAAC,CAAC,EAAE;IACxC,OAAOD,IAAI,CAACC,IAAI,CAAA;AACjB,GAAA;AAED,EAAA,OAAO,IAAI,CAAA;AACb,CAAA;AAEA;;;AAGG;AACH,MAAMO,eAAe,GAAG,aAAa;AACnC1C,EAAAA,IAAI,EAAEW,WAAW,CAACC,MAAM,CAAC;AACzBsB,EAAAA,IAAI,EAAE,MAAMD,WAAW,CAACrB,MAAM,CAAA;AAC/B,CAAA,CAAC,CAAA;AAEW+B,MAAAA,uBAAuB,GAAI1C,MAAgB,IAAI;EAC1D,MAAM2C,mBAAmB,GAAa,EAAE,CAAA;AACxC3C,EAAAA,MAAM,CAAC4C,OAAO,CAAEC,OAAO,IAAI;IACzB,MAAM,CAACC,SAAS,CAAC,GAAGD,OAAO,CAACE,KAAK,CAAC,GAAG,CAAC,CAAA;AACtC,IAAA,IAAI,CAACJ,mBAAmB,CAACK,QAAQ,CAACF,SAAS,CAAC,EAAE;AAC5CH,MAAAA,mBAAmB,CAACM,IAAI,CAACH,SAAS,CAAC,CAAA;AACpC,KAAA;AACH,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOH,mBAAmB,CAAA;AAC5B,EAAC;AAEYO,MAAAA,8BAA8B,GAAIJ,SAAiB,IAAI;AAClE,EAAA,QAAQA,SAAS;IACf,KAAK7C,gBAAgB,CAACC,MAAM;AAC1B,MAAA,OAAOiD,MAAM,CAACC,MAAM,CAAC5C,sBAAsB,CAAC,CAAA;AAC9C,IAAA;AACE,MAAA,MAAM,IAAI6C,KAAK,EAAsCP,kCAAAA,EAAAA,SAAS,EAAE,CAAC,CAAA;AACpE,GAAA;AACH,EAAC;AAEYQ,MAAAA,6BAA6B,GAAIR,SAAiB,IAAI;AACjE,EAAA,QAAQA,SAAS;IACf,KAAK7C,gBAAgB,CAACC,MAAM;AAC1B,MAAA,OAAOiD,MAAM,CAACC,MAAM,CAAC3C,sBAAsB,CAAC,CAAA;AAC9C,IAAA;AACE,MAAA,MAAM,IAAI4C,KAAK,EAAqCP,iCAAAA,EAAAA,SAAS,EAAE,CAAC,CAAA;AACnE,GAAA;AACH,EAAC;AACYS,MAAAA,qBAAqB,GAAIvD,MAAgB,IAAsC;AAC1F,EAAA,MAAMwD,kBAAkB,GAAGd,uBAAuB,CAAC1C,MAAM,CAAC,CAAA;AAE1D,EAAA,OAAOmD,MAAM,CAACM,WAAW,CACvBD,kBAAkB,CAACE,GAAG,CAAEZ,SAAS,IAAK,CACpCA,SAAS,EACT;AACEa,IAAAA,OAAO,EAAET,8BAA8B,CAACJ,SAAS,CAAC;AAClD9C,IAAAA,MAAM,EAAEA,MAAM,CAAC4D,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,UAAU,CAAChB,SAAS,CAAC,CAAC;IAC7DiB,MAAM,EAAET,6BAA6B,CAACR,SAAS,CAAA;GAChD,CACF,CAAC,CACH,CAAA;AACH,EAAC;AAEM,MAAMkB,0BAA0B,GAAG,OACxClB,SAA6B,EAC7BmB,QAAkB,EAClBC,SAAiB,KAId;AACH,EAAA,IAAIpB,SAAS,KAAK7C,gBAAgB,CAACC,MAAM,EAAE;AACzC,IAAA,MAAMiE,WAAW,GAAG,MAAM1B,eAAe,EAAE,CAAA;AAC3C,IAAA,MAAM2B,eAAe,GAAqB;AACxCC,MAAAA,wBAAwB,EAAE;AACxBC,QAAAA,SAAS,EAAEJ,SAAS;AACpBK,QAAAA,QAAQ,EAAE,+BAA+B;AACzCC,QAAAA,QAAQ,EAAE;UACRzE,IAAI,EAAEoE,WAAW,CAACpE,IAAI;UACtB0E,WAAW,EAAEN,WAAW,CAACpE,IAAI;AAC7BuB,UAAAA,GAAG,EAAEX,MAAM,CAACQ,QAAQ,CAACuD,MAAM;AAC3BC,UAAAA,KAAK,EAAE,CAACR,WAAW,CAAClC,IAAI,IAAI,EAAE,CAAA;AAC/B,SAAA;AACF,OAAA;KACF,CAAA;AAED,IAAA,MAAM2C,eAAe,GAAGX,QAAQ,CAACP,GAAG,CAAEb,OAAO,IAAI;AAC/C,MAAA,OAAU,CAAAC,EAAAA,SAAa,CAAAD,CAAAA,EAAAA,QAAS,CAAA,CAAA;AAClC,KAAC,CAAC,CAAA;AAEF,IAAA,MAAMgC,aAAa,GAA8B;MAC/CC,kBAAkB,EAAEvB,qBAAqB,CAACqB,eAAe,CAAA;KAC1D,CAAA;IACD,OAAO;MACLR,eAAe;AACfS,MAAAA,aAAAA;KACD,CAAA;AACF,GAAA;AACD,EAAA,MAAM,IAAIxB,KAAK,EAAiCP,6BAAAA,EAAAA,SAAS,EAAE,CAAC,CAAA;AAC9D;;ACzOO,MAAMiC,kBAAkB,GAAGA,CAACC,cAAkC,EAAEC,OAAe,EAAEJ,aAAoD,KAAI;EAAA,IAAAK,qBAAA,EAAAC,sBAAA,CAAA;AAC9I,EAAA,MAAMxC,mBAAmB,GAAG,CAAAkC,aAAa,KAAbA,IAAAA,IAAAA,aAAa,KAAbA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,aAAa,CAAEC,kBAAkB,KAAI,EAAE,CAAA;AACnE,EAAA,MAAMM,gBAAgB,GAAG,CAAA,EAAGJ,cAAkB,CAAA,CAAA,EAAAC,QAAS,CAAA,CAAA;EAEvD,IAAI,CAACtC,mBAAmB,CAACqC,cAAc,CAAC,CAAChF,MAAM,IAAI,CAAAkF,CAAAA,qBAAA,GAAAvC,mBAAmB,CAACqC,cAAc,CAAC,CAAChF,MAAM,MAAAkF,IAAAA,IAAAA,qBAAA,KAA1CA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,qBAAA,CAA4ChE,MAAM,MAAK,CAAC,EAAE;AAC3G,IAAA,OAAO,KAAK,CAAA;AACb,GAAA;AACD,EAAA,MAAMmE,WAAW,GAAAF,CAAAA,sBAAA,GAAGxC,mBAAmB,CAACqC,cAAc,CAAC,CAAChF,MAAM,MAAA,IAAA,IAAAmF,sBAAA,KAA1CA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,sBAAA,CAA4CnC,QAAQ,CAACoC,gBAAgB,CAAC,CAAA;EAC1F,OAAO,CAAC,CAACC,WAAW,CAAA;AACtB,CAAC;;;;ACsBD,MAAMC,sBAAuB,SAAQC,cAAoB,CAAA;AAwBvDC,EAAAA,WAAAA,GAAuD;AAAA,IAAA,IAA3CC,8EAAyC,EAAE,CAAA;IACrD,KAAK,CAACA,OAAO,CAAC,CAAA;IAACC,eAAA,CAAA,IAAA,EAAA,MAAA,EAxBOC,eAAe,CAACC,iBAAiB,CAAA,CAAA;IAAAF,eAAA,CAAA,IAAA,EAAA,kBAAA,EAEPG,kBAAkB,CAAC3F,MAAM,CAAA,CAAA;IAAAwF,eAAA,CAAA,IAAA,EAAA,uBAAA,EAEtBzF,gBAAgB,CAACC,MAAM,CAAA,CAAA;IAAAwF,eAAA,CAAA,IAAA,EAAA,MAAA,EAErCI,gBAAgB,CAACC,QAAQ,CAAA,CAAA;IAAAL,eAAA,CAAA,IAAA,EAAA,gBAAA,EAAA,KAAA,CAAA,CAAA,CAAA;IAAAA,eAAA,CAAA,IAAA,EAAA,QAAA,EAI3BM,cAAc,CAACC,SAAS,CAAA,CAAA;AAAAP,IAAAA,eAAA,CAEnB,IAAA,EAAA,aAAA,EAAA;AACxCQ,MAAAA,GAAG,EAAE,EAAE;AACPC,MAAAA,iBAAiB,EAAErG,iCAAAA;KACpB,CAAA,CAAA;AAAA4F,IAAAA,eAAA,oBAEqC,IAAI,CAAA,CAAA;AAAAA,IAAAA,eAAA,wBAES,IAAI,CAAA,CAAA;AAAAA,IAAAA,eAAA,qBAEF,IAAI,CAAA,CAAA;AAIvD,IAAA,IAAI,CAACU,cAAc,GAAAC,aAAA,CAAA,EAAA,EAAQZ,OAAO,CAAE,CAAA;AACtC,GAAA;EAEA,IAAIa,SAASA,GAAA;AACX,IAAA,OAAO,CAAC,CAAC,IAAI,CAACC,aAAa,CAAA;AAC7B,GAAA;EAEA,IAAIC,QAAQA,GAAA;IACV,IAAI,IAAI,CAACC,MAAM,KAAKT,cAAc,CAACC,SAAS,IAAI,IAAI,CAACS,UAAU,EAAE;AAC/D,MAAA,OAAO,IAAI,CAACA,UAAU,CAACF,QAAQ,CAAA;AAChC,KAAA;AACD,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;EAEA,IAAIA,QAAQA,CAACG,CAAkC,EAAA;AAC7C,IAAA,MAAM,IAAItD,KAAK,CAAC,iBAAiB,CAAC,CAAA;AACpC,GAAA;EAEA,MAAMuD,IAAIA,CAACnB,OAA2B,EAAA;AAAA,IAAA,IAAAoB,qBAAA,EAAAC,iBAAA,EAAAC,kBAAA,CAAA;AACpC,IAAA,MAAM,KAAK,CAACH,IAAI,EAAE,CAAA;IAClB,KAAK,CAACI,+BAA+B,EAAE,CAAA;IACvC,MAAM1C,SAAS,IAAAuC,qBAAA,GAAG,IAAI,CAACT,cAAc,CAAChC,eAAe,MAAAyC,IAAAA,IAAAA,qBAAA,gBAAAA,qBAAA,GAAnCA,qBAAA,CAAqCxC,wBAAwB,cAAAwC,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA7DA,qBAAA,CAA+DvC,SAAS,CAAA;IAC1F,IAAI,CAACA,SAAS,EAAE;AACd,MAAA,MAAM2C,yBAAyB,CAACC,aAAa,CAAC,oEAAoE,CAAC,CAAA;AACpH,KAAA;AAED,IAAA,MAAMC,WAAW,GAAG,MAAMnD,0BAA0B,CAAA,CAAA8C,iBAAA,GAClD,IAAI,CAACM,WAAW,cAAAN,iBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAhBA,iBAAA,CAAkB9B,cAAoC,EACtD,CAACqC,QAAQ,CAAA,CAAAN,kBAAA,GAAC,IAAI,CAACK,WAAW,cAAAL,kBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAhBA,kBAAA,CAAkBlE,OAAiB,EAAE,EAAE,CAAC,CAAC,EACnDyB,SAAS,CACV,CAAA;AACD,IAAA,IAAI,CAAC,IAAI,CAAC8B,cAAc,CAACvB,aAAa,EAAE;AACtC,MAAA,IAAI,CAACuB,cAAc,CAACvB,aAAa,GAAGsC,WAAW,CAACtC,aAAa,CAAA;AAC9D,KAAA;AAED,IAAA,IAAI,CAACuB,cAAc,CAAChC,eAAe,GAAGkD,KAAK,CAACH,WAAW,CAAC/C,eAAe,EAAE,IAAI,CAACgC,cAAc,CAAChC,eAAe,CAAC,CAAA;IAE7G,MAAM;AAAEA,MAAAA,eAAAA;KAAiB,GAAG,IAAI,CAACgC,cAAc,CAAA;AAE/C,IAAA,IAAI,CAACmB,SAAS,GAAG,MAAMC,UAAU,CAACZ,IAAI,CAACxC,eAAe,aAAfA,eAAe,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAfA,eAAe,CAAEC,wBAAwB,CAAC,CAAA;AACjF,IAAA,IAAI,CAACqC,UAAU,GAAG,IAAIe,uBAAuB,CAAC;AAAEC,MAAAA,MAAM,EAAE;QAAEN,WAAW,EAAE,IAAI,CAACA,WAAAA;OAAkC;MAAEG,SAAS,EAAE,IAAI,CAACA,SAAAA;AAAW,KAAA,CAAC,CAAA;IAE5I,IAAI,CAACI,IAAI,CAACC,cAAc,CAACC,KAAK,EAAElC,eAAe,CAACC,iBAAiB,CAAC,CAAA;AAClE,IAAA,IAAI,CAACa,MAAM,GAAGT,cAAc,CAAC6B,KAAK,CAAA;AAClCC,IAAAA,GAAG,CAACC,KAAK,CAAC,wCAAwC,CAAC,CAAA;IACnD,IAAItC,OAAO,CAACuC,WAAW,EAAE;AACvB,MAAA,MAAM,IAAI,CAACC,wBAAwB,EAAE,CAAA;MAErC,IAAI,IAAI,CAAC3B,SAAS,EAAE;QAClB,IAAI,CAAC4B,UAAU,GAAG,IAAI,CAAA;QACtB,IAAI;AACF,UAAA,MAAM,IAAI,CAACC,gBAAgB,EAAE,CAAA;SAC9B,CAAC,OAAOC,KAAK,EAAE;AACdN,UAAAA,GAAG,CAACM,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC,CAAA;UACvC,IAAI,CAACT,IAAI,CAACC,cAAc,CAACS,OAAO,EAAED,KAAK,CAAC,CAAA;AACzC,SAAA;AACF,OAAA,MAAM;AACL,QAAA,IAAI,CAAC3B,MAAM,GAAGT,cAAc,CAACC,SAAS,CAAA;AACtC,QAAA,IAAI,CAAC0B,IAAI,CAACC,cAAc,CAACU,WAAW,CAAC,CAAA;AACtC,OAAA;AACF,KAAA;AACH,GAAA;EAEA,MAAMC,OAAOA,GAAA;IACX,KAAK,CAACC,2BAA2B,EAAE,CAAA;IACnC,IAAI,CAAC,IAAI,CAACjB,SAAS,EAAE,MAAMN,yBAAyB,CAACwB,QAAQ,CAAC,iCAAiC,CAAC,CAAA;IAChG,IAAI;AACF;MACA,IAAI,IAAI,CAACnC,SAAS,EAAE;AAClB,QAAA,MAAM,IAAI,CAAC6B,gBAAgB,EAAE,CAAA;QAC7B,OAAO,IAAI,CAAC3B,QAAQ,CAAA;AACrB,OAAA;AAED,MAAA,IAAI,IAAI,CAACC,MAAM,KAAKT,cAAc,CAAC0C,UAAU,EAAE;AAC7C,QAAA,MAAM,IAAI,CAACC,gBAAgB,EAAE,CAAA;AAC9B,OAAA;MACD,OAAO,IAAI,CAACnC,QAAQ,CAAA;KACrB,CAAC,OAAO4B,KAAK,EAAE;AACdN,MAAAA,GAAG,CAACM,KAAK,CAAC,kDAAkD,EAAEA,KAAK,CAAC,CAAA;AACpE;AACA,MAAA,IAAI,CAAC3B,MAAM,GAAGT,cAAc,CAAC6B,KAAK,CAAA;MAClC,IAAI,CAACK,UAAU,GAAG,IAAI,CAAA;MACtB,IAAI,CAACP,IAAI,CAACC,cAAc,CAACS,OAAO,EAAED,KAAK,CAAC,CAAA;MAExC,MAAMQ,UAAU,GACdR,KAAK,YAAYS,aAAa,GAC1BT,KAAK,GACLU,gBAAgB,CAACC,eAAe,CAAC,wCAAyC,CAAAX,KAAe,KAAfA,IAAAA,IAAAA,KAAe,KAAfA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAe,CAAEY,OAAO,KAAI,EAAE,CAAA,CAAE,CAAC,CAAA;AACjH,MAAA,MAAMJ,UAAU,CAAA;AACjB,KAAA;AACH,GAAA;EAEO,MAAMK,QAAQA,CAAC7B,WAA8B,EAAc;AAAA,IAAA,IAAA8B,gBAAA,CAAA;AAAA,IAAA,IAAZtC,IAAI,GAAAuC,SAAA,CAAAjI,MAAA,GAAA,CAAA,IAAAiI,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,KAAK,CAAA;AAChE,IAAA,KAAK,CAACE,yBAAyB,CAACjC,WAAW,EAAER,IAAI,CAAC,CAAA;IAClD,IAAI,CAAC7B,kBAAkB,CAAC,IAAI,CAACuE,qBAAqB,EAAEjC,QAAQ,CAACD,WAAW,CAACvE,OAAO,EAAE,EAAE,CAAC,EAAE,IAAI,CAACuD,cAAc,CAACvB,aAAa,CAAC,EAAE;MACzH,MAAM0E,qBAAqB,CAACC,iBAAiB,CAAC,wBAAwBpC,WAAW,CAACvE,OAAS,CAAA,CAAA,CAAC,CAAA;AAC7F,KAAA;AACD,IAAA,OAAA,CAAAqG,gBAAA,GAAM,IAAI,CAACxC,UAAU,MAAA,IAAA,IAAAwC,gBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAfA,gBAAA,CAAiBD,QAAQ,CAAC7B,WAAW,CAAC,CAAA,CAAA;AAC5C,IAAA,IAAI,CAACqC,cAAc,CAACrC,WAAW,CAAC,CAAA;AAClC,GAAA;EAEO,MAAMsC,WAAWA,CAACC,MAA2B,EAAc;AAAA,IAAA,IAAAC,iBAAA,CAAA;AAAA,IAAA,IAAZhD,IAAI,GAAAuC,SAAA,CAAAjI,MAAA,GAAA,CAAA,IAAAiI,SAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,GAAG,KAAK,CAAA;AAChE,IAAA,KAAK,CAACU,4BAA4B,CAACF,MAAM,EAAE/C,IAAI,CAAC,CAAA;IAChD,IAAI,CAAC7B,kBAAkB,CAAC,IAAI,CAACuE,qBAAqB,EAAEjC,QAAQ,CAACsC,MAAM,CAAC9G,OAAO,EAAE,EAAE,CAAC,EAAE,IAAI,CAACuD,cAAc,CAACvB,aAAa,CAAC,EAAE;MACpH,MAAM0E,qBAAqB,CAACC,iBAAiB,CAAC,wBAAwBG,MAAM,CAAC9G,OAAS,CAAA,CAAA,CAAC,CAAA;AACxF,KAAA;IACD,OAAA+G,CAAAA,iBAAA,GAAM,IAAI,CAAClD,UAAU,MAAAkD,IAAAA,IAAAA,iBAAA,KAAfA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,iBAAA,CAAiBF,WAAW,CAAC;MAAE7G,OAAO,EAAE8G,MAAM,CAAC9G,OAAAA;AAAO,KAAE,CAAC,CAAA,CAAA;IAC/D,IAAI,CAACiH,kBAAkB,CAAC;AAAE1C,MAAAA,WAAW,EAAE,IAAI,CAAC2C,cAAc,CAACJ,MAAM,CAAC9G,OAAO,CAAA;AAAsB,KAAE,CAAC,CAAA;AACpG,GAAA;EAEA,MAAMmH,WAAWA,GAAA;IACf,IAAI,CAAC,IAAI,CAAC1D,SAAS,EAAE,MAAMwC,gBAAgB,CAACmB,iBAAiB,CAAC,uDAAuD,CAAC,CAAA;AACtH,IAAA,OAAO,EAAE,CAAA;AACX,GAAA;EAEA,MAAMC,UAAUA,GAAmD;IAAA,IAAAC,mBAAA,EAAAC,oBAAA,CAAA;IAAA,IAAlD3E,OAAA,GAAA0D,SAAA,CAAAjI,MAAA,GAAAiI,CAAAA,IAAAA,SAAA,CAAAC,CAAAA,CAAAA,KAAAA,SAAA,GAAAD,SAAA,CAAgC,CAAA,CAAA,GAAA;AAAEkB,MAAAA,OAAO,EAAE,KAAA;KAAO,CAAA;AACjE,IAAA,MAAM,KAAK,CAACC,iBAAiB,EAAE,CAAA;IAC/B,MAAM;AAAED,MAAAA,OAAAA;AAAS,KAAA,GAAG5E,OAAO,CAAA;AAC3B,IAAA,IAAI,CAAC,IAAI,CAAC8B,SAAS,IAAI,CAAC,IAAI,CAACjB,SAAS,IAAI,EAAA6D,CAAAA,mBAAA,GAAC,IAAI,CAAC5D,aAAa,MAAA4D,IAAAA,IAAAA,mBAAA,KAAlBA,KAAAA,CAAAA,IAAAA,mBAAA,CAAoBI,KAAK,CAAE,EAAA,MAAMzB,gBAAgB,CAACmB,iBAAiB,CAAC,2BAA2B,CAAC,CAAA;AAC3I,IAAA,MAAM,IAAI,CAAC1C,SAAS,CAAC2C,UAAU,CAAC;MAAEK,KAAK,EAAA,CAAAH,oBAAA,GAAE,IAAI,CAAC7D,aAAa,MAAA,IAAA,IAAA6D,oBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAlBA,oBAAA,CAAoBG,KAAK;MAAEC,MAAM,EAAEC,WAAW,CAAC,mBAAmB,CAAA;AAAG,KAAA,CAAC,CAAA;IAC/G,IAAI,CAACvC,UAAU,GAAG,KAAK,CAAA;AACvB,IAAA,IAAImC,OAAO,EAAE;MACX,IAAI,CAAC9C,SAAS,GAAG,IAAI,CAAA;AACrB,MAAA,IAAI,CAACd,MAAM,GAAGT,cAAc,CAACC,SAAS,CAAA;MACtC,IAAI,CAACS,UAAU,GAAG,IAAI,CAAA;AACvB,KAAA,MAAM;AACL;AACA,MAAA,IAAI,CAACD,MAAM,GAAGT,cAAc,CAAC6B,KAAK,CAAA;AACnC,KAAA;IACD,IAAI,CAACtB,aAAa,GAAG,IAAI,CAAA;AACzB,IAAA,MAAM,KAAK,CAAC2D,UAAU,EAAE,CAAA;AAC1B,GAAA;AAEQQ,EAAAA,sBAAsBA,GAAA;IAC5B,IAAI,CAAC,IAAI,CAACnD,SAAS,EAAE,MAAMN,yBAAyB,CAACwB,QAAQ,CAAC,iCAAiC,CAAC,CAAA;IAChG,MAAMkC,gBAAgB,GAAG,IAAI,CAACpD,SAAS,CAACqD,OAAO,CAACC,MAAM,CAAC;AAAEC,MAAAA,MAAM,EAAE,KAAA;AAAK,KAAE,CAAC,CAAA;AAEzE,IAAA,IAAI,CAACC,YAAY,CAACJ,gBAAgB,CAAC,EAAE,OAAA;AAErCA,IAAAA,gBAAgB,CAAC/H,OAAO,CAAEgI,OAAO,IAAI;MACnC,IAAI,IAAI,CAACrD,SAAS,EAAE;AAClB,QAAA,IAAI,CAACA,SAAS,CAACqD,OAAO,CAACI,MAAM,CAACJ,OAAO,CAACL,KAAK,EAAEE,WAAW,CAAC,mBAAmB,CAAC,CAAC,CAAA;AAC/E,OAAA;AACH,KAAC,CAAC,CAAA;AACJ,GAAA;EAEQ,MAAMxC,wBAAwBA,GAAA;IACpC,IAAI,CAAC,IAAI,CAACV,SAAS,EAAE,MAAMN,yBAAyB,CAACwB,QAAQ,CAAC,iCAAiC,CAAC,CAAA;AAChG,IAAA,IAAI,IAAI,CAAClB,SAAS,CAAC0D,OAAO,CAAC/J,MAAM,EAAE;AACjC,MAAA,MAAMgK,YAAY,GAAG,IAAI,CAAC3D,SAAS,CAAC0D,OAAO,CAACE,IAAI,CAACjK,MAAM,GAAG,CAAC,CAAA;MAC3D,IAAI,CAACqF,aAAa,GAAG,IAAI,CAACgB,SAAS,CAAC0D,OAAO,CAACG,GAAG,CAAC,IAAI,CAAC7D,SAAS,CAAC0D,OAAO,CAACE,IAAI,CAACD,YAAY,CAAC,CAAC,CAAA;AAC3F,KAAA;IACD,OAAO,IAAI,CAAC3E,aAAa,CAAA;AAC3B,GAAA;EAEQ,MAAMoC,gBAAgBA,GAAgE;IAAA,IAA/D0C,IAAA,GAAAlC,SAAA,CAAAjI,MAAA,GAAAiI,CAAAA,IAAAA,SAAA,CAAAC,CAAAA,CAAAA,KAAAA,SAAA,GAAAD,SAAA,CAAqC,CAAA,CAAA,GAAA;AAAEmC,MAAAA,eAAe,EAAE,KAAA;KAAO,CAAA;IAC5F,IAAI;MAAA,IAAAC,oBAAA,EAAAC,oBAAA,CAAA;MACF,IAAI,CAAC,IAAI,CAACjE,SAAS,EAAE,MAAMN,yBAAyB,CAACwB,QAAQ,CAAC,iCAAiC,CAAC,CAAA;AAChG,MAAA,IAAI,CAAC,IAAI,CAACrC,cAAc,CAACvB,aAAa,EAAE,MAAMoC,yBAAyB,CAACwB,QAAQ,CAAC,gCAAgC,CAAC,CAAA;AAElH,MAAA,IAAI,CAAChC,MAAM,GAAGT,cAAc,CAAC0C,UAAU,CAAA;AACvC,MAAA,IAAI,CAACf,IAAI,CAACC,cAAc,CAACc,UAAU,EAAE;QAAE+C,OAAO,EAAE9F,eAAe,CAACC,iBAAAA;AAAiB,OAAE,CAAC,CAAA;AACpF,MAAA,IAAIyF,IAAI,CAACC,eAAe,IAAA,CAAAC,oBAAA,GAAI,IAAI,CAAChF,aAAa,cAAAgF,oBAAA,KAAA,KAAA,CAAA,IAAlBA,oBAAA,CAAoBhB,KAAK,EAAE;AAAA,QAAA,IAAAmB,oBAAA,CAAA;AACrD,QAAA,MAAM,IAAI,CAACnE,SAAS,CAAC2C,UAAU,CAAC;UAAEK,KAAK,EAAA,CAAAmB,oBAAA,GAAE,IAAI,CAACnF,aAAa,MAAA,IAAA,IAAAmF,oBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAlBA,oBAAA,CAAoBnB,KAAK;UAAEC,MAAM,EAAEC,WAAW,CAAC,mBAAmB,CAAA;AAAG,SAAA,CAAC,CAAA;AAChH,OAAA;AAED3C,MAAAA,GAAG,CAACC,KAAK,CAAC,kDAAkD,CAAC,CAAA;MAC7D,MAAM;QAAE7B,GAAG;AAAEyF,QAAAA,QAAAA;AAAU,OAAA,GAAG,MAAM,IAAI,CAACpE,SAAS,CAACgB,OAAO,CAAC,IAAI,CAACnC,cAAc,CAACvB,aAAa,CAAC,CAAA;MACzF,MAAM+G,WAAW,IAAAJ,oBAAA,GAAG,IAAI,CAACpF,cAAc,cAAAoF,oBAAA,KAAA,KAAA,CAAA,IAAA,CAAAA,oBAAA,GAAnBA,oBAAA,CAAqBpH,eAAe,MAAA,IAAA,IAAAoH,oBAAA,KAApCA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,oBAAA,CAAsCI,WAAW,CAAA;AACrE;AACA,MAAA,IAAI1F,GAAG,EAAE;AACP,QAAA,IAAI0F,WAAW,EAAE;AACfA,UAAAA,WAAW,CAACC,IAAI,CAAC3F,GAAG,EAAE,MAAK;AACzB4B,YAAAA,GAAG,CAACC,KAAK,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAA;AAC1C,YAAA,IAAI,CAACtB,MAAM,GAAGT,cAAc,CAAC6B,KAAK,CAAA;YAClC,IAAI,CAACF,IAAI,CAACC,cAAc,CAACC,KAAK,EAAElC,eAAe,CAACC,iBAAiB,CAAC,CAAA;AACpE,WAAC,CAAC,CAAA;AACH,SAAA,MAAM;UACL,IAAI,CAACkG,iBAAiB,CAAC;YAAE5F,GAAG;AAAEC,YAAAA,iBAAiB,EAAErG,iCAAAA;AAA0D,WAAA,CAAC,CAAA;AAC7G,SAAA;AACF,OAAA;MAED,IAAI,CAACyH,SAAS,CAACxD,MAAM,CAACgI,IAAI,CAAC,iBAAiB,EAAGC,IAAI,IAAI;AACrDlE,QAAAA,GAAG,CAACmE,IAAI,CAAC,kBAAkB,EAAED,IAAI,CAAC,CAAA;AAClC;QACA,IAAI,CAACrD,gBAAgB,CAAC;AAAE2C,UAAAA,eAAe,EAAE,IAAA;AAAM,SAAA,CAAC,CAAA;AAClD,OAAC,CAAC,CAAA;AAEFxD,MAAAA,GAAG,CAACmE,IAAI,CAAC,uCAAuC,CAAC,CAAA;AAEjD;AACA,MAAA,MAAMhB,OAAO,GAAG,MAAMU,QAAQ,EAAE,CAAA;MAChC,IAAI,CAACpF,aAAa,GAAG0E,OAAO,CAAA;AAC5B;AACA,MAAA,MAAM,IAAI,CAAC9C,gBAAgB,EAAE,CAAA;AAC7B,MAAA,IAAIyD,WAAW,EAAE;QACfA,WAAW,CAACM,KAAK,EAAE,CAAA;AACpB,OAAA;KACF,CAAC,OAAO9D,KAAK,EAAE;AACdN,MAAAA,GAAG,CAACM,KAAK,CAAC,iDAAiD,EAAEA,KAAK,CAAC,CAAA;MACnE,IAAI,CAACT,IAAI,CAACC,cAAc,CAACS,OAAO,EAAED,KAAK,CAAC,CAAA;AACxC,MAAA,MAAMA,KAAK,CAAA;AACZ,KAAA;AACH,GAAA;EAEQ,MAAMD,gBAAgBA,GAAA;AAAA,IAAA,IAAAgE,sBAAA,CAAA;AAC5B,IAAA,IAAI,CAAC,IAAI,CAAC5E,SAAS,IAAI,CAAC,IAAI,CAACb,UAAU,EAAE,MAAMO,yBAAyB,CAACwB,QAAQ,CAAC,iCAAiC,CAAC,CAAA;IACpH,IAAI,CAAC,IAAI,CAACrB,WAAW,EAAE,MAAMH,yBAAyB,CAACC,aAAa,CAAC,yBAAyB,CAAC,CAAA;AAC/F,IAAA,IAAA,CAAAiF,sBAAA,GAAI,IAAI,CAAC/F,cAAc,CAAChC,eAAe,MAAA,IAAA,IAAA+H,sBAAA,KAAA,KAAA,CAAA,IAAnCA,sBAAA,CAAqCP,WAAW,EAAE;AACpD,MAAA,IAAI,CAAClF,UAAU,GAAG,IAAIe,uBAAuB,CAAC;AAC5CC,QAAAA,MAAM,EAAE;UACNN,WAAW,EAAE,IAAI,CAACA,WAAgC;AAClDgF,UAAAA,iBAAiB,EAAE,IAAA;SACpB;QACD7E,SAAS,EAAE,IAAI,CAACA,SAAAA;AACjB,OAAA,CAAC,CAAA;AACH,KAAA;IACD,MAAM,IAAI,CAACb,UAAU,CAAC2F,aAAa,CAAC,IAAI,CAAC9E,SAAS,CAAC,CAAA;IACnD,IAAI,CAAC+E,eAAe,EAAE,CAAA;IACtB,IAAI,CAAC5B,sBAAsB,EAAE,CAAA;AAC7B,IAAA,IAAI,CAACjE,MAAM,GAAGT,cAAc,CAACuG,SAAS,CAAA;AACtC,IAAA,IAAI,CAAC5E,IAAI,CAACC,cAAc,CAAC2E,SAAS,EAAE;MAAEd,OAAO,EAAE9F,eAAe,CAACC,iBAAiB;MAAE4G,WAAW,EAAE,IAAI,CAACtE,UAAAA;AAAoC,KAAA,CAAC,CAAA;AAC3I,GAAA;AAEQoE,EAAAA,eAAeA,GAAA;IACrB,IAAI,CAAC,IAAI,CAAC/E,SAAS,EAAE,MAAMN,yBAAyB,CAACwB,QAAQ,CAAC,iCAAiC,CAAC,CAAA;IAEhG,IAAI,CAAClB,SAAS,CAACxD,MAAM,CAAC0I,EAAE,CAAC,gBAAgB,EAAEC,IAAA,IAAsB;MAAA,IAArB;QAAEnC,KAAK;AAAEZ,QAAAA,MAAAA;AAAM,OAAE,GAAA+C,IAAA,CAAA;AAC3D,MAAA,IAAI,CAAC,IAAI,CAACnF,SAAS,EAAE,OAAA;MACrB,MAAM;AAAEoF,QAAAA,UAAAA;AAAY,OAAA,GAAGhD,MAAM,CAAA;MAC7B,MAAMiD,QAAQ,GAAG,IAAI,CAACrF,SAAS,CAAC0D,OAAO,CAACG,GAAG,CAACb,KAAK,CAAC,CAAA;AAClD;AACA,MAAA,MAAMsC,cAAc,GAAAxG,aAAA,CAAAA,aAAA,KAAQuG,QAAQ,CAAA,EAAA,EAAA,EAAA;AAAED,QAAAA,UAAAA;OAAY,CAAA,CAAA;AAClD;MACA,IAAI,CAACpG,aAAa,GAAGsG,cAAc,CAAA;AACrC,KAAC,CAAC,CAAA;IAEF,IAAI,CAACtF,SAAS,CAACxD,MAAM,CAAC0I,EAAE,CAAC,gBAAgB,EAAE,MAAK;AAC9C;MAEA,IAAI,CAACvC,UAAU,EAAE,CAAA;AACnB,KAAC,CAAC,CAAA;AACJ,GAAA;AACD;;;;"}